#!/bin/sh
## Get current x,y cursor position.

delay=0.01
offset=77

exec < /dev/tty
oldstty=$(stty -g)
stty raw -echo min 0
tput u7 > /dev/tty
sleep $delay
IFS=';' read -r row col
stty $oldstty

[ -n "$row" ] && row=$(expr $(expr substr $row 3 99) - 1) || row=0
[ -n "$col" ] && col=$(expr ${col%R} - 1) || col=0

## We are returning x-coordinate only.
printf "$col"